---
title: Get started with Apollo Client
---

Hello! ðŸ‘‹ This short tutorial gets you up and running with Apollo Client.

> For an introduction to the entire Apollo platform, [check out **Odyssey**, Apollo's new learning platform](https://odyssey.apollographql.com?utm_source=apollo_docs&utm_medium=referral).

## Step 1: Setup

Before starting this tutorial, we recommend you either:

- Create a new React project locally with [Create React App](https://create-react-app.dev/), or
- Create a new React sandbox on [CodeSandbox](https://codesandbox.io/).

## Step 2: Install dependencies

Applications that use Apollo Client require two top-level dependencies:

- `@apollo/client`: This single package contains virtually everything you need to set up Apollo Client. It includes the in-memory cache, local state management, error handling, and a React-based view layer.
- `graphql`: This package provides logic for parsing GraphQL queries.

Run the following command to install both of these packages:

```bash
npm install @apollo/client graphql
```

> If you are using a React sandbox and running into issues, try downgrading your `graphql` package. You can use `npm install graphql@15.8.0` to downgrade.

We'll use the [FlyBy API](https://flyby-gateway.herokuapp.com/) from the [Voyage I: Federation from Day One](https://www.apollographql.com/tutorials/voyage-part1/) Odyssey course as our GraphQL server for this example. The Flyby API provides a list of intergalactic locations and details about those locations.

## Step 3: Initialize `ApolloClient`

With our dependencies set up, we can now initialize an `ApolloClient` instance.

In `index.js`, let's first import the things we need from `@apollo/client`:

```js title="index.js"
import { ApolloClient, InMemoryCache, ApolloProvider, useQuery, gql } from '@apollo/client';
```

Next we'll initialize `ApolloClient`, passing its constructor a configuration object with the `uri` and `cache` fields:

```js title="index.js"
const client = new ApolloClient({
  uri: 'https://flyby-gateway.herokuapp.com/',
  cache: new InMemoryCache(),
});
```

More on the `uri` and `cache` fields below:

- `uri` specifies the URL of our GraphQL server.
- `cache` is an instance of `InMemoryCache`, which Apollo Client uses to cache query results after fetching them.

That's it! Our `client` is ready to start fetching data. Now before we start using Apollo Client with React, let's first try sending a query with plain JavaScript.

In the same `index.js` file, call `client.query()` with the query string (wrapped in the `gql` template literal) shown below:

```js title="index.js"
// const client = ...

client
  .query({
    query: gql`
      query getLocations {
        locations {
          id
          name
          description
          photo
        }
      }
    `,
  })
  .then((result) => console.log(result));
```

Run this code, open your console, and inspect the result object. You should see a `data` property with `locations` attached, along with some other properties like `loading` and `networkStatus`. Nice!

Although executing GraphQL operations directly like this can be useful, Apollo Client really shines when it's integrated with a view layer like React. You can bind queries to your UI and update it automatically as new data is fetched.

Let's look at how that works!

## Step 4: Connect your client to React

You connect Apollo Client to React with the `ApolloProvider` component. Similar to React's [`Context.Provider`](https://reactjs.org/docs/context.html#contextprovider), `ApolloProvider` wraps your React app and places Apollo Client on the context, enabling you to access it from anywhere in your component tree.

In `index.js`, let's wrap our React app with an `ApolloProvider`. We suggest putting the `ApolloProvider` somewhere high in your app, above any component that might need to access GraphQL data.

```jsx title="index.js" {22-24}
import { React } from 'react';
import * as ReactDOM from 'react-dom/client';
import { ApolloClient, InMemoryCache, ApolloProvider, useQuery, gql } from '@apollo/client';

const client = new ApolloClient({
  uri: 'https://flyby-gateway.herokuapp.com/',
  cache: new InMemoryCache(),
});

function App() {
  return (
    <div>
      <h2>My first Apollo app ðŸš€</h2>
    </div>
  );
}

// Supported in React 18+
const root = ReactDOM.createRoot(document.getElementById('root'));

root.render(
  <ApolloProvider client={client}>
    <App />
  </ApolloProvider>,
);
```

## Step 5: Fetch data with `useQuery`

After your `ApolloProvider` is hooked up, you can start requesting data with `useQuery`. The `useQuery` hook is a [React hook](https://reactjs.org/docs/hooks-intro.html) that shares GraphQL data with your UI.

Still in `index.js`, let's first define the query we want to execute by wrapping it in the `gql` template literal:

```js title="index.js"
const GET_LOCATIONS = gql`
  query getLocations {
    locations {
      id
      name
      description
      photo
    }
  }
`;
```

Next, let's define a component named `DisplayLocations` that executes our `GET_LOCATIONS` query with the `useQuery` hook:

```js title="index.js" {2}
function DisplayLocations() {
  const { loading, error, data } = useQuery(GET_LOCATIONS);

  if (loading) return <p>Loading...</p>;
  if (error) return <p>Error :(</p>;

  return data.locations.map(({ id, name, description, photo }) => (
    <div key={id}>
      <h3>{name}</h3>
      <img width="400" height="250" alt="location-reference" src={`${photo}`} />
      <br />
      <b>About this location:</b>
      <p>{description}</p>
      <br />
    </div>
  ));
}
```

Whenever this component renders, the `useQuery` hook automatically executes our query and returns a result object containing `loading`, `error`, and `data` properties:

- Apollo Client tracks a query's error and loading states for you, reflected in the `loading` and `error` properties.
- When the result of your query comes back, it's attached to the `data` property.

Finally, we'll add `DisplayLocations` to our existing component tree:

```jsx title="index.js" {5}
function App() {
  return (
    <div>
      <h2>My first Apollo app ðŸš€</h2>
      <DisplayLocations />
    </div>
  );
}
```

When your app reloads, you should briefly see a loading indicator, followed by a list of locations and details about those locations! If you don't, you can compare your code against the [completed app on CodeSandbox](https://codesandbox.io/s/get-started-apollo-client-demo-bert8s?file=/src/index.js).

Congrats, you just made your first component that renders with GraphQL data from Apollo Client! ðŸŽ‰ Now you can try building more components that use `useQuery` and experiment with the concepts you just learned.

## Next steps

Now that you've learned how to fetch data with Apollo Client, you're ready to dive deeper into creating more complex queries and mutations. After this section, we recommend moving on to:

- [Queries](data/queries/): Learn how to fetch queries with arguments and dive deeper into configuration options. For a full list of options, check out the API reference for `useQuery`.
- [Mutations](data/mutations/): Learn how to update data with mutations and when you'll need to update the Apollo cache. For a full list of options, check out the API reference for `useMutation`.
- [Apollo Client API](api/core/ApolloClient/): Sometimes, you'll need to access the client directly like we did in our plain JavaScript example above. Visit the API reference for a full list of options.
