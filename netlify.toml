[build]
  publish = "docs/public"
  command = "npx typedoc src/index.ts --json docs/public/docs.json"
[build.environment]
  NODE_VERSION = "16"
  DOCS_PREVIEW = "cd ../ && git clone https://github.com/apollographql/docs --branch tb/local-dev --single-branch monodocs && cd monodocs && npm i && cp -r ../docs local && DOCS_LOCAL=true npm run build"
[context.deploy-preview.build]
  base = "docs"
  publish = "monodocs/public"
  command = "$DOCS_PREVIEW"
  ignore = "git diff --quiet $CACHED_COMMIT_REF $COMMIT_REF ."
