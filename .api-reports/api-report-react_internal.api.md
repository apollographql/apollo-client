## API Report File for "@apollo/client"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { ApolloClient } from '@apollo/client/core';
import type { ApolloQueryResult } from '@apollo/client/core';
import type { createQueryPreloader } from '@apollo/client/react';
import type { DocumentNode } from 'graphql';
import type { FetchMoreQueryOptions } from '@apollo/client/core';
import type { MaybeMasked } from '@apollo/client/masking';
import type { MaybeMasked as MaybeMasked_2 } from '@apollo/client/core';
import type { Observable } from 'rxjs';
import type { ObservableQuery } from '@apollo/client/core';
import type { OnlyRequiredProperties } from '@apollo/client/utilities';
import type { OperationVariables } from '@apollo/client/core';
import type { PromiseWithState } from '@apollo/client/utilities';
import type { QueryResult } from '@apollo/client/core';
import type { Unmasked } from '@apollo/client/core';
import type { useBackgroundQuery } from '@apollo/client/react/hooks';
import type { useFragment } from '@apollo/client/react/hooks';
import type { useQuery } from '@apollo/client/react/hooks';
import type { useQueryRefHandlers } from '@apollo/client/react/hooks';
import type { useReadQuery } from '@apollo/client/react/hooks';
import type { useSuspenseFragment } from '@apollo/client/react/hooks';
import type { useSuspenseQuery } from '@apollo/client/react/hooks';
import type { WatchFragmentOptions } from '@apollo/client/core';
import type { WatchFragmentOptions as WatchFragmentOptions_2 } from '@apollo/client/cache';
import type { WatchFragmentResult } from '@apollo/client/cache';
import type { WatchQueryOptions } from '@apollo/client/core';

// Warning: (ae-forgotten-export) The symbol "WrappedQueryRef" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function assertWrappedQueryRef<TData, TVariables>(queryRef: QueryRef<TData, TVariables>): asserts queryRef is WrappedQueryRef<TData, TVariables>;

// @public (undocumented)
export function assertWrappedQueryRef<TData, TVariables>(queryRef: QueryRef<TData, TVariables> | undefined | null): asserts queryRef is WrappedQueryRef<TData, TVariables> | undefined | null;

// @public (undocumented)
export type CacheKey = [
query: DocumentNode,
stringifiedVariables: string,
...queryKey: any[]
];

// @public (undocumented)
export type FetchMoreFunction<TData, TVariables extends OperationVariables> = (fetchMoreOptions: FetchMoreQueryOptions<TVariables, TData> & {
    updateQuery?: (previousQueryResult: Unmasked<TData>, options: {
        fetchMoreResult: Unmasked<TData>;
        variables: TVariables;
    }) => Unmasked<TData>;
}) => Promise<QueryResult<MaybeMasked_2<TData>>>;

// @public (undocumented)
type FetchMoreOptions<TData> = Parameters<ObservableQuery<TData>["fetchMore"]>[0];

// @public (undocumented)
type FragmentCacheKey = [
cacheId: string,
fragment: DocumentNode,
stringifiedVariables: string
];

// @public (undocumented)
interface FragmentKey {
    // (undocumented)
    __fragmentKey?: string;
}

// @public (undocumented)
class FragmentReference<TData = unknown, TVariables extends OperationVariables = OperationVariables> {
    // Warning: (ae-forgotten-export) The symbol "FragmentReferenceOptions" needs to be exported by the entry point index.d.ts
    constructor(client: ApolloClient, watchFragmentOptions: WatchFragmentOptions_2<TData, TVariables> & {
        from: string;
    }, options: FragmentReferenceOptions);
    // Warning: (ae-forgotten-export) The symbol "FragmentKey" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly key: FragmentKey;
    // Warning: (ae-forgotten-export) The symbol "Listener_2" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    listen(listener: Listener_2<MaybeMasked<TData>>): () => void;
    // (undocumented)
    readonly observable: Observable<WatchFragmentResult<TData>>;
    // Warning: (ae-forgotten-export) The symbol "FragmentRefPromise" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    promise: FragmentRefPromise<MaybeMasked<TData>>;
    // (undocumented)
    retain(): () => void;
}

// @public (undocumented)
interface FragmentReferenceOptions {
    // (undocumented)
    autoDisposeTimeoutMs?: number;
    // (undocumented)
    onDispose?: () => void;
}

// @public (undocumented)
type FragmentRefPromise<TData> = PromiseWithState<TData>;

// @public (undocumented)
type FunctionSignature<T> = T extends (...args: infer A) => infer R ? (...args: A) => R : never;

// Warning: (ae-forgotten-export) The symbol "SuspenseCache" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function getSuspenseCache(client: ApolloClient & {
    [suspenseCacheSymbol]?: SuspenseCache;
}): SuspenseCache;

// Warning: (ae-forgotten-export) The symbol "QueryRefPromise" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function getWrappedPromise<TData>(queryRef: WrappedQueryRef<TData, any>): QueryRefPromise<TData>;

// Warning: (ae-forgotten-export) The symbol "WrappableHooks" needs to be exported by the entry point index.d.ts
//
// @internal
export type HookWrappers = {
    [K in keyof WrappableHooks]?: (originalHook: WrappableHooks[K]) => WrappableHooks[K];
};

// @public (undocumented)
export class InternalQueryReference<TData = unknown> {
    // Warning: (ae-forgotten-export) The symbol "InternalQueryReferenceOptions" needs to be exported by the entry point index.d.ts
    constructor(observable: ObservableQuery<TData, any>, options: InternalQueryReferenceOptions);
    // (undocumented)
    applyOptions(watchQueryOptions: ObservedOptions): QueryRefPromise<TData>;
    // Warning: (ae-forgotten-export) The symbol "ObservedOptions" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    didChangeOptions(watchQueryOptions: ObservedOptions): boolean;
    // (undocumented)
    get disposed(): boolean;
    // Warning: (ae-forgotten-export) The symbol "FetchMoreOptions" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    fetchMore(options: FetchMoreOptions<TData>): Promise<QueryResult<TData>>;
    // (undocumented)
    readonly key: QueryKey;
    // Warning: (ae-forgotten-export) The symbol "Listener" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    listen(listener: Listener<TData>): () => void;
    // (undocumented)
    readonly observable: ObservableQuery<TData>;
    // (undocumented)
    promise: QueryRefPromise<TData>;
    // (undocumented)
    refetch(variables: OperationVariables | undefined): Promise<QueryResult<TData>>;
    // (undocumented)
    reinitialize(): void;
    // (undocumented)
    result: ApolloQueryResult<MaybeMasked<TData>>;
    // (undocumented)
    retain(): () => void;
    // (undocumented)
    softRetain(): () => void;
    // (undocumented)
    get watchQueryOptions(): WatchQueryOptions<OperationVariables, TData>;
}

// @public (undocumented)
interface InternalQueryReferenceOptions {
    // (undocumented)
    autoDisposeTimeoutMs?: number;
    // (undocumented)
    onDispose?: () => void;
}

// @public (undocumented)
type Listener<TData> = (promise: QueryRefPromise<TData>) => void;

// @public (undocumented)
type Listener_2<TData> = (promise: FragmentRefPromise<TData>) => void;

// @public (undocumented)
const OBSERVED_CHANGED_OPTIONS: readonly ["context", "errorPolicy", "fetchPolicy", "refetchWritePolicy", "returnPartialData"];

// Warning: (ae-forgotten-export) The symbol "OBSERVED_CHANGED_OPTIONS" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
type ObservedOptions = Pick<WatchQueryOptions, (typeof OBSERVED_CHANGED_OPTIONS)[number]>;

// @public
export interface PreloadedQueryRef<TData = unknown, TVariables = unknown> extends QueryRef<TData, TVariables> {
    toPromise(): Promise<PreloadedQueryRef<TData, TVariables>>;
}

// @public (undocumented)
const PROMISE_SYMBOL: unique symbol;

// @public (undocumented)
const QUERY_REF_BRAND: unique symbol;

// @public (undocumented)
const QUERY_REFERENCE_SYMBOL: unique symbol;

// @public (undocumented)
export interface QueryKey {
    // (undocumented)
    __queryKey?: string;
}

// @public
export interface QueryRef<TData = unknown, TVariables = unknown> {
    // @internal (undocumented)
    [QUERY_REF_BRAND]?(variables: TVariables): TData;
}

// @public @deprecated (undocumented)
export interface QueryReference<TData = unknown, TVariables = unknown> extends QueryRef<TData, TVariables> {
    // @deprecated (undocumented)
    toPromise?: unknown;
}

// @public (undocumented)
type QueryRefPromise<TData> = PromiseWithState<ApolloQueryResult<MaybeMasked<TData>>>;

// @public (undocumented)
export type RefetchFunction<TData, TVariables extends OperationVariables> = ObservableQuery<TData, TVariables>["refetch"];

// @public (undocumented)
class SuspenseCache {
    constructor(options?: SuspenseCacheOptions);
    // (undocumented)
    add(cacheKey: CacheKey, queryRef: InternalQueryReference<unknown>): void;
    // Warning: (ae-forgotten-export) The symbol "FragmentCacheKey" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "FragmentReference" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    getFragmentRef<TData, TVariables extends OperationVariables>(cacheKey: FragmentCacheKey, client: ApolloClient, options: WatchFragmentOptions<TData, TVariables> & {
        from: string;
    }): FragmentReference<TData, TVariables>;
    // (undocumented)
    getQueryRef<TData = unknown>(cacheKey: CacheKey, createObservable: () => ObservableQuery<TData>): InternalQueryReference<TData>;
}

// @public (undocumented)
export interface SuspenseCacheOptions {
    autoDisposeTimeoutMs?: number;
}

// @public (undocumented)
const suspenseCacheSymbol: unique symbol;

// @public (undocumented)
export function unwrapQueryRef<TData>(queryRef: WrappedQueryRef<TData>): InternalQueryReference<TData>;

// @public (undocumented)
export function unwrapQueryRef<TData>(queryRef: Partial<WrappedQueryRef<TData>>): undefined | InternalQueryReference<TData>;

// @public (undocumented)
export function updateWrappedQueryRef<TData>(queryRef: WrappedQueryRef<TData>, promise: QueryRefPromise<TData>): void;

// @public (undocumented)
export type VariablesOption<TVariables extends OperationVariables> = [
TVariables
] extends [never] ? {
    variables?: Record<string, never>;
} : Record<string, never> extends OnlyRequiredProperties<TVariables> ? {
    variables?: TVariables;
} : {
    variables: TVariables;
};

// @public (undocumented)
interface WrappableHooks {
    // (undocumented)
    createQueryPreloader: typeof createQueryPreloader;
    // (undocumented)
    useBackgroundQuery: typeof useBackgroundQuery;
    // (undocumented)
    useFragment: typeof useFragment;
    // Warning: (ae-forgotten-export) The symbol "FunctionSignature" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    useQuery: FunctionSignature<typeof useQuery>;
    // (undocumented)
    useQueryRefHandlers: typeof useQueryRefHandlers;
    // (undocumented)
    useReadQuery: typeof useReadQuery;
    // (undocumented)
    useSuspenseFragment: typeof useSuspenseFragment;
    // (undocumented)
    useSuspenseQuery: typeof useSuspenseQuery;
}

// @internal
interface WrappedQueryRef<TData = unknown, TVariables = unknown> extends QueryRef<TData, TVariables> {
    // (undocumented)
    [PROMISE_SYMBOL]: QueryRefPromise<TData>;
    // (undocumented)
    readonly [QUERY_REFERENCE_SYMBOL]: InternalQueryReference<TData>;
    // (undocumented)
    toPromise?(): Promise<unknown>;
}

// @public (undocumented)
export const wrapperSymbol: unique symbol;

// @public (undocumented)
export function wrapQueryRef<TData, TVariables extends OperationVariables>(internalQueryRef: InternalQueryReference<TData>): WrappedQueryRef<TData, TVariables>;

// (No @packageDocumentation comment for this package)

```
